<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Events - NEPP</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="events.css">
</head>
<body>
    <div id="settings-container"></div>
    <div class="nepp-root">
        <a href="settings.html" class="settings-top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="nav-icon">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z" />
                <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
            </svg>
        </a>
        <aside class="sidebar"></aside>
        <main class="main-content">
            <div class="events-header">
                <h1>Events</h1>
                <button id="createEventBtn" class="create-event-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
                    </svg>
                    Create Event
                </button>
            </div>
            
            <div class="events-container">
                <div class="events-layout">
                    <div class="events-main">
                        <div class="events-controls">
                            <div class="view-controls">
                                <button class="view-btn active" data-view="list">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 0 1 0 3.75H5.625a1.875 1.875 0 0 1 0-3.75Z" />
                                    </svg>
                                    List
                                </button>
                                <button class="view-btn" data-view="calendar">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5" />
                                    </svg>
                                    Calendar
                                </button>
                            </div>
                            
                            <div class="filter-controls">
                                <select id="groupFilter" class="filter-select">
                                    <option value="">All Groups</option>
                                </select>
                                <select id="timeFilter" class="filter-select">
                                    <option value="all">All Time</option>
                                    <option value="upcoming">Upcoming</option>
                                    <option value="past">Past Events</option>
                                    <option value="today">Today</option>
                                    <option value="this-week">This Week</option>
                                    <option value="this-month">This Month</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="search-container">
                            <input type="text" id="eventsSearch" placeholder="Search events..." class="search-input">
                            <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
                            </svg>
                        </div>
                        
                        <div id="eventsListView" class="events-view active">
                            <div id="eventsList" class="events-list">
                                <!-- Events will be loaded here -->
                            </div>
                        </div>
                        
                        <div id="eventsCalendarView" class="events-view">
                            <div id="eventsCalendar" class="events-calendar">
                                <!-- Calendar will be rendered here -->
                            </div>
                        </div>
                    </div>
                    
                    <div class="events-sidebar">
                        <div class="mini-calendar" id="miniCalendar">
                            <!-- Mini calendar will be rendered here -->
                        </div>
                        
                        <div class="upcoming-events">
                            <h3>Upcoming Events</h3>
                            <div id="upcomingEventsList">
                                <!-- Upcoming events will be listed here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Create Event Modal -->
            <div id="createEventModal" class="modal" style="display: none;">
                <div class="modal-content">
                    <h2>Create New Event</h2>
                    <form id="createEventForm">
                        <div class="form-group">
                            <label for="eventTitle">Event Title *</label>
                            <input type="text" id="eventTitle" name="eventTitle" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="eventType">Event Type *</label>
                            <select id="eventType" name="eventType" required>
                                <option value="event">Regular Event</option>
                                <option value="announcement">Scheduled Announcement</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="eventDescription">Description</label>
                            <textarea id="eventDescription" name="eventDescription" rows="3"></textarea>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="eventDate">Date *</label>
                                <input type="date" id="eventDate" name="eventDate" required>
                            </div>
                            <div class="form-group">
                                <label for="eventTime">Time *</label>
                                <input type="time" id="eventTime" name="eventTime" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="eventLocation">Location</label>
                            <input type="text" id="eventLocation" name="eventLocation" placeholder="Event location or meeting link">
                        </div>
                        
                        <div class="form-group">
                            <label for="eventGroup">Group</label>
                            <select id="eventGroup" name="eventGroup">
                                <option value="">Personal Event</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="eventVisibility">Visibility *</label>
                            <select id="eventVisibility" name="eventVisibility" required>
                                <option value="public">Public (Anyone can see)</option>
                                <option value="group">Group Members Only</option>
                                <option value="private">Private (Only me)</option>
                            </select>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" id="cancelCreateEvent" class="cancel-btn">Cancel</button>
                            <button type="submit" class="submit-btn">Create Event</button>
                        </div>
                    </form>
                </div>
            </div>
            
            <!-- Event Details Modal -->
            <div id="eventDetailsModal" class="modal" style="display: none;">
                <div class="modal-content event-details-content">
                    <button class="close-btn" id="closeEventDetails">&times;</button>
                    <div id="eventDetailsContainer">
                        <!-- Event details will be loaded here -->
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <script type="module" src="./config/firebase-config.js"></script>
    <script type="module" src="./components/sidebar.js"></script>
    <script type="module" src="./services/auth-service.js"></script>
    <script type="module" src="./components/calendar-widget.js"></script>
    <script type="module" src="./services/events-service.js"></script>
    <script type="module" src="./services/groups-service.js"></script>
    <script type="module" src="./events.js"></script>
</body>
</html>
